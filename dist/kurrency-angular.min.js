!function(a,b){"use strict";function c(){angular.module("KurrencyApp",[]),angular.module("KurrencyApp").constant("kurrencyConfig",{cache:!1,local:!1,accessToken:"ABC123",mode:"test",phrases:{cart_empty:"You don't have anything in your cart"},months:[{name:"January",value:1},{name:"February",value:2},{name:"March",value:3},{name:"April",value:4},{name:"May",value:5},{name:"June",value:6},{name:"July",value:7},{name:"August",value:8},{name:"September",value:9},{name:"October",value:10},{name:"November",value:11},{name:"December",value:12}],years:[{name:(new Date).getFullYear(),value:(new Date).getFullYear()},{name:(new Date).getFullYear()+1,value:(new Date).getFullYear()+1},{name:(new Date).getFullYear()+2,value:(new Date).getFullYear()+2},{name:(new Date).getFullYear()+3,value:(new Date).getFullYear()+3},{name:(new Date).getFullYear()+4,value:(new Date).getFullYear()+4},{name:(new Date).getFullYear()+5,value:(new Date).getFullYear()+5},{name:(new Date).getFullYear()+6,value:(new Date).getFullYear()+6},{name:(new Date).getFullYear()+7,value:(new Date).getFullYear()+7}],states:[{name:"Alberta",value:"AB"},{name:"Alabama",value:"AL"},{name:"Alaska",value:"AK"},{name:"American Samoa",value:"AS"},{name:"Arizona",value:"AZ"},{name:"Arkansas",value:"AR"},{name:"British Columbia",value:"BC"},{name:"California",value:"CA"},{name:"Colorado",value:"CO"},{name:"Connecticut",value:"CT"},{name:"Delaware",value:"DE"},{name:"District Of Columbia",value:"DC"},{name:"Federated States Of Micronesia",value:"FM"},{name:"Florida",value:"FL"},{name:"Georgia",value:"GA"},{name:"Guam",value:"GU"},{name:"Hawaii",value:"HI"},{name:"Idaho",value:"ID"},{name:"Illinois",value:"IL"},{name:"Indiana",value:"IN"},{name:"Iowa",value:"IA"},{name:"Kansas",value:"KS"},{name:"Kentucky",value:"KY"},{name:"Louisiana",value:"LA"},{name:"Manitoba",value:"MB"},{name:"Maine",value:"ME"},{name:"Marshall Islands",value:"MH"},{name:"Maryland",value:"MD"},{name:"Massachusetts",value:"MA"},{name:"Michigan",value:"MI"},{name:"Minnesota",value:"MN"},{name:"Mississippi",value:"MS"},{name:"Missouri",value:"MO"},{name:"Montana",value:"MT"},{name:"New Brunswich",value:"NB"},{name:"Nebraska",value:"NE"},{name:"Newfoundland and Labrador",value:"NL"},{name:"Nevada",value:"NV"},{name:"New Hampshire",value:"NH"},{name:"New Jersey",value:"NJ"},{name:"New Mexico",value:"NM"},{name:"New York",value:"NY"},{name:"North Carolina",value:"NC"},{name:"North Dakota",value:"ND"},{name:"Nova Scotia",value:"NS"},{name:"Northern Mariana Islands",value:"MP"},{name:"Ohio",value:"OH"},{name:"Oklahoma",value:"OK"},{name:"Ontario",value:"ON"},{name:"Oregon",value:"OR"},{name:"Palau",value:"PW"},{name:"Pennsylvania",value:"PA"},{name:"Prince Edward Island",value:"PE"},{name:"Puerto Rico",value:"PR"},{name:"Quebec",value:"QB"},{name:"Rhode Island",value:"RI"},{name:"South Carolina",value:"SC"},{name:"South Dakota",value:"SD"},{name:"Saskatchewan",value:"SK"},{name:"Tennessee",value:"TN"},{name:"Texas",value:"TX"},{name:"Utah",value:"UT"},{name:"Vermont",value:"VT"},{name:"Virgin Islands",value:"VI"},{name:"Virginia",value:"VA"},{name:"Washington",value:"WA"},{name:"West Virginia",value:"WV"},{name:"Wisconsin",value:"WI"},{name:"Wyoming",value:"WY"},{name:"Yukon",value:"YT"}],countries:[{name:"United States",value:"US"},{name:"Canada",value:"CA"}]}).factory("kurrency",["$rootScope","$http","kurrencyConfig",function(a,b,c){function d(c,d){var e=this;if(e.options={},!c)return console.log("Missing Kurrency object");var f={type:"get",url:"",path:"",baseUrl:c.options.baseUrl||"",data:{},dataType:"json",headers:{"Access-Token":c.options.accessToken,"Authentication-Key":c.options.authenticationKey?c.options.authenticationKey:void 0,"Session-Id":c.options.session?c.options.session._id:void 0,"Kurrency-Mode":c.options.mode?c.options.mode:"test"},commonError:function(a){console.log(a)}};return e.config=function(a){return e.options=angular.extend({},f,a),e},e.req=function(c,d,f,g){a.$broadcast("apiLoading",!0);var h=angular.extend({},e.options);h.method=c,h.url=d,"post"===c||"put"===c?(h.data=JSON.stringify(f),h.contentType="application/json"):h.params=f;var i=b(h);return i.success(function(){a.$broadcast("apiLoading",!1)}),i.error(function(b){return a.$broadcast("apiLoading",!1),a.$broadcast("apiError",b),g?g(b):void 0}),i},e.get=function(a,b,c){return"function"==typeof b&&(c=b,b=null),e.req("get",a,b,c)},e.post=function(a,b,c){return"function"==typeof b&&(c=b,b=null),e.req("post",a,b,c)},e.put=function(a,b,c){return"function"==typeof b&&(c=b,b=null),e.req("put",a,b,c)},e.del=function(a,b,c){return"function"==typeof b&&(c=b,b=null),e.req("delete",a,b,c)},e.config(d)}function e(){var a=this;return"undefined"!=typeof Storage?(a.set=function(a,b){return"object"!=typeof b?(sessionStorage[a]=b,sessionStorage[a]):(sessionStorage[a]=JSON.stringify(b),sessionStorage[a])},a.get=function(a){var b;try{b=JSON.parse(sessionStorage[a])}catch(c){b=sessionStorage[a]}return b},a.remove=function(a){return delete sessionStorage[a],null}):(a.set=function(a,b){var c="",d="object"==typeof b?JSON.stringify(b):escape(b);document.cookie=escape(a)+"="+d+c+"; path=/"},a.get=function(a){for(var b=escape(a)+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b)){var f;try{f=JSON.parse(e.substring(b.length,e.length))}catch(g){f=decodeURIComponent(e.substring(b.length,e.length))}return f}}return null},a.remove=function(b){a.create(b,"",-1)}),a}var f=function(b){function c(a){a&&s.config(a)}function f(a){a&&s.config(a)}function g(a){a&&s.config(a)}function h(a){a&&s.config(a)}function i(a){a&&s.config(a)}function j(a){a&&s.config(a)}function k(a){a&&s.config(a)}function l(a){a&&s.config(a)}function m(a){a&&s.config(a)}function n(a){var b=this;return b.rate=null,b.ship_to={name:void 0,company_name:void 0,attention_to:void 0,email:void 0,phone:void 0,address:{address_1:void 0,address_2:void 0,address_3:void 0,city:void 0,postal_code:void 0,state_code:void 0,country_code:"US"}},b.setRate=function(a){return b.rate=a,b},b.setShipTo=function(a){return b.ship_to.name=a.name,b.ship_to.company_name=a.company_name,b.ship_to.attention_to=a.attention_to,b.ship_to.email=a.email,b.ship_to.phone=a.phone,a.address&&(b.ship_to.address=a.address),b},b.setAddress=function(a){b.ship_to.address=a},b=angular.extend(b,a)}function o(a){var b=this;return b._id=void 0,b.ship_to={name:void 0,company_name:void 0,attention_to:void 0,email:void 0,phone:void 0,address:{address_1:void 0,address_2:void 0,address_3:void 0,city:void 0,postal_code:void 0,state_code:void 0,country_code:"US"}},b.setShipTo=function(a){return b.ship_to.name=a.name,b.ship_to.company_name=a.company_name,b.ship_to.attention_to=a.attention_to,b.ship_to.email=a.email,b.ship_to.phone=a.phone,a.address&&(b.ship_to.address=a.address),b},b.setAddress=function(a){b.ship_to.address=a},b=angular.extend(b,a)}function p(a){var b=this;return b.type="credit_card",b.card={},b.bank_account={},b=angular.extend(b,a)}function q(a){var b=new p({type:"credit_card"});return b._id=void 0,b.card.name=void 0,b.card.card_number=void 0,b.card.expiration_month=(new Date).getMonth()+1,b.card.expiration_year=(new Date).getFullYear(),b.card.security_code=void 0,b.card.postal_code=void 0,b=angular.extend(b,a)}function r(a){var b=new p({type:"bank_account"});return b._id=void 0,b.bank_account.name=void 0,b.bank_account.account_number=void 0,b.bank_account.routing_number=void 0,b.bank_account.type="checking",b=angular.extend(b,a)}var s=this;s.options={},s.Stor=e,s.Request=d;var t=new s.Stor,u=s.baseUrls={test:"http://0.0.0.0:3458/jsapi",production:"https://api.kurrency.io/api/jsapi"},v={products:{},product_lines:{}};if(!window.angular)throw Error("angular is missing");var w={caching:!0,local:!1,accessToken:"",authenticationKey:null,session:null,mode:"test",baseUrl:u[this.local?"test":"production"]};return s.config=function(a){return s.options=angular.extend(w,a),s.options.baseUrl=s.options.local?u.test:u.production,s},s.handleError=function(b){b&&403===b.responseCode&&(t.remove("session"),s.options.session=null),a.$broadcast("kurrencyError",b)},c.prototype.get=function(a){if(!a)return s.options.session;if(s.options.session=t.get("session"),s.options.session)return a(null,s.options.session);var b=new d(s).get(s.options.baseUrl+"/session",null,s.handleError);b.success(function(b){return s.options.session=b.pkg.data,t.set("session",s.options.session),a(null,s.options.session)})},c.prototype.save=function(a,b){s.options.session=a;var c=new d(s).post(s.options.baseUrl+"/session",a.data,s.handleError);c.success(function(a){return s.options.session=a.pkg.data,t.set("session",s.options.session),b(null,s.options.session)})},f.prototype.get=function(a){s.session.get(function(b,c){c.data.cart||(c.data.cart=[]),s.session.save(c,function(b,c){return a(null,c.data.cart)})})},f.prototype.add=function(a,b,c){s.cart.get(function(d,e){for(var f=0;f<e.length;f++)if(e[f]._id===a._id)return e[f].qty+=parseInt(b,10),s.session.get(function(a,b){b.data.cart=e,s.session.save(b,function(){return c(null,e)})});e.push({_id:a._id,name:a.name,sub_title:a.sub_title,qty:parseInt(b,10),image:a.images[0],weight:a.weight,dimensions:a.dimensions,price:a.price,product_lines:a.product_lines,requires_shipping:a.requires_shipping,allow_presale:a.allow_presale,taxable:a.taxable}),s.session.get(function(a,b){b.data.cart=e,s.session.save(b,function(){return c(null,e)})})})},f.prototype.update=function(a,b,c){s.cart.get(function(d,e){for(var f=0;f<e.length;f++)if(e[f]._id===a._id){e[f].qty=parseInt(b);break}s.session.get(function(a,b){b.data.cart=e,s.session.save(b,function(){return c(null,e)})})})},f.prototype.remove=function(a,b){s.cart.get(function(c,d){for(var e=0;e<d.length;e++)if(d[e]._id===a._id){d.splice(e,1);break}s.session.get(function(a,c){c.data.cart=d,s.session.save(c,function(){return b(null,d)})})})},f.prototype.empty=function(a){s.session.get(function(b,c){c.data.cart=[],s.session.save(c,function(){return a(null,[])})})},f.prototype.replace=function(a,b){s.session.get(function(c,d){d.data.cart=a,s.session.save(d,function(a,c){return a?b(a,null):b(null,c.data.cart)})})},g.prototype.register=function(b,c){var e=new d(s).post(s.options.baseUrl+"/register",b,s.handleError);e.success(function(b){return t.set("user",b.pkg.data),a.$broadcast("kurrencyRegistered",b.pkg.data),c(null,b.pkg.data)})},g.prototype.login=function(b,c,e){var f=new d(s).post(s.options.baseUrl+"/login",{username:b,password:c},s.handleError);f.success(function(b){return t.set("user",b.pkg.data),a.$broadcast("kurrencySignIn",b.pkg.data),e(null,b.pkg.data)})},g.prototype.forgotPassword=function(b,c){var e=new d(s).post(s.options.baseUrl+"/forgot-password",{email:b},s.handleError);e.success(function(b){return a.$broadcast("kurrencyForgotPassword",b),c(null,b)})},g.prototype.signOut=function(){t.remove("session"),t.remove("user"),s.options.session=null,s.options.user=null,a.$broadcast("kurrencySignOut",!0)},g.prototype.loggedIn=function(){return t.get("user")},h.prototype.list=function(a){s.session.get(function(){var b=new d(s).get(s.options.baseUrl+"/addresses",null,s.handleError);b.success(function(b){return a(null,b.pkg.data)})})},h.prototype.create=function(a,b){s.session.get(function(){var c=new d(s).post(s.options.baseUrl+"/addresses",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},h.prototype.edit=function(a,b){s.session.get(function(){var c=new d(s).put(s.options.baseUrl+"/addresses",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},h.prototype.remove=function(a,b){s.session.get(function(){var c=new d(s).del(s.options.baseUrl+"/addresses",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},i.prototype.list=function(a){s.session.get(function(){var b=new d(s).get(s.options.baseUrl+"/payment_methods",null,s.handleError);b.success(function(b){return a(null,b.pkg.data)})})},i.prototype.create=function(a,b){s.session.get(function(){var c=new d(s).post(s.options.baseUrl+"/payment_methods",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},i.prototype.edit=function(a,b){s.session.get(function(){var c=new d(s).put(s.options.baseUrl+"/payment_methods",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},i.prototype.remove=function(a,b){s.session.get(function(){var c=new d(s).del(s.options.baseUrl+"/payment_methods",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},j.prototype.list=function(a,b){s.session.get(function(){var c=JSON.stringify(a);if(v.products[c])return b(null,v.products[c]);var e=new d(s).get(s.options.baseUrl+"/products",a,s.handleError);e.success(function(a){return s.options.caching===!0&&(v.products[c]=a.pkg.data),b(null,a.pkg.data)})})},k.prototype.list=function(a,b){s.session.get(function(){var c=JSON.stringify(a);if(v.product_lines[c])return b(null,v.product_lines[c]);var e=new d(s).get(s.options.baseUrl+"/product-lines",a,s.handleError);e.success(function(a){return s.options.caching===!0&&(v.product_lines[c]=a.pkg.data),b(null,a.pkg.data)})})},l.prototype.list=function(a,b){s.session.get(function(){var c=new d(s).get(s.options.baseUrl+"/orders",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},l.prototype.create=function(a,b){s.session.get(function(){var c=new d(s).post(s.options.baseUrl+"/orders",a,s.handleError);c.success(function(a){return b(null,a.pkg.data)})})},l.prototype.taxes=function(a,b,c){var e={value:a,ship_to:b.ship_to};s.session.get(function(a){if(a)return c(a,null);var b=new d(s).post(s.options.baseUrl+"/orders/taxes",e,s.handleError);b.success(function(a){return c(null,a.pkg.data)})})},m.prototype.rates=function(a,b){if(!a.products)return b(new Error("Missing products"),null);var c=angular.copy(a);delete c.products,c.packages=[{weight:0,price:0}];for(var e=0;e<a.products.length;e++)c.packages[0].weight+=a.products[e].weight*a.products[e].qty,c.packages[0].price+=a.products[e].price*a.products[e].qty;s.session.get(function(){var a=new d(s).post(s.options.baseUrl+"/shipping/rates",c,s.handleError);a.success(function(a){var c=a.pkg.data;return c.sort(function(a,b){return a.cost-b.cost}),b(null,c)})})},s.session=new c,s.cart=new f,s.auth=new g,s.addresses=new h,s.payment_methods=new i,s.products=new j,s.product_lines=new k,s.orders=new l,s.shipping=new m,s.shipment=n,s.customer=o,s.credit_card=q,s.bank_account=r,s.config(b)};return new f(c)}]).config(function(a){a.enabled(!1)}).directive("kurrencyPopover",function(){return{scope:!0,restrict:"A",transclude:!0,templateUrl:function(a,b){var c="/kurrency-templates/kurrency-popover.html";return b.templateUrl&&(c=b.templateUrl),c},link:function(a,b,c){a.contents=a.$eval(c.kurrencyPopover);var d=angular.element(b[0].querySelector(".kurrency-popover"));b.bind("mouseover",function(){d.addClass("active")}),b.bind("mouseout",function(){d.removeClass("active")})}}}).directive("kurrencyImage",["kurrency","kurrencyConfig","$parse",function(a,b){return{restrict:"E",scope:{src:"=",options:"@",alt:"="},template:'<img ng-src="{{newSrc}}" alt="{{alt}}">',link:function(c,d,e){function f(c,d){var e=b.local?a.baseUrls.test:a.baseUrls.production,f=e+"/imager?access-token="+b.accessToken+"&url="+encodeURIComponent(c);return d.size&&(f+="&size="+d.size),d.effect&&(f+="&effect="+d.effect),f}c.newSrc=null,e.$observe("options",function(a){c.options=c.$eval(a)}),c.$watch("src",function(){c.src&&(c.newSrc=f(c.src,c.options))})}}}]).directive("kurrencyProduct",["kurrency","kurrencyConfig",function(a,b){return{restrict:"E",scope:{id:"="},templateUrl:function(a,b){var c="/kurrency-templates/kurrency-product.html";return b.templateUrl&&(c=b.templateUrl),c},replace:!0,link:function(c){c.kurrency=a,c.config=b,c.product=null,a.products.list({_id:c.id},function(a,b){c.product=b[0]}),c.addToCart=function(b,d){a.cart.add(b,d,function(a,b){return a?console.log(a):void c.$emit("cartUpdated",b)})}}}}]).directive("kurrencyMenu",["kurrency","kurrencyConfig","$timeout","$window","$document",function(a,c,d,e,f){return{restrict:"E",templateUrl:function(a,b){var c="/kurrency-templates/kurrency-menu.html";return b.templateUrl&&(c=b.templateUrl),c},replace:!0,link:function(g){if(g.config=c,g.cart=null,g.wishlist=null,g.showing=null,g.back=null,g.apiLoading=0,g.product_total=0,g.quantity_total=0,g.paymentEnabled=!1,g.requiresShipping=!1,g.addressList=[],g.paymentList=[],g.checkout={service_carrier:null,service_code:null,ship_to:null,bill_to:null,payment_method:null,products:null,notes:""},g.geocodeComplete=!1,g.stateList=c.states,g.countryList=c.countries,g.shippingAddressCopied=!1,!e.google){for(var h=f[0].getElementsByTagName("script"),i=!1,j=0;j<h.length;j++)h[j].src.indexOf("maps.googleapis")>-1&&(i=!0);if(!i){var k=b.createElement("script");k.type="text/javascript",k.async=!0,k.src="//maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDfl3BRqXwFWerx20m00Hec6mSFyL42w0Y&callback=initialize",b.getElementsByTagName("body")[0].appendChild(k)}}g.messages={none:[],login:[],"forgot-password":[],register:[],checkout:[],wishlist:[],contact:[]},g.kurrency=a,a.cart.get(function(a,b){g.cart=b,g.updateProductTotal()}),g.updateProductTotal=function(){g.product_total=0,g.quantity_total=0;for(var a=0;a<g.cart.length;a++){g.cart[a].requires_shipping&&(g.requiresShipping=!0),g.quantity_total+=parseInt(g.cart[a].qty,10);var b=parseInt(g.cart[a].qty,10)*g.cart[a].price;g.product_total+=b}},g.$on("cartUpdated",function(a,b){g.cart=b,g.updateProductTotal()}),g.updateQuantity=function(b){g.updateProductTotal(),a.cart.update(b,b.qty,function(a,b){g.cart=b})},g.removeProduct=function(b){a.cart.remove(b,function(a,b){g.cart=b,g.updateProductTotal()})},g.checkClass=function(a){return g.showing===a?{active:!0}:""},g.copyShippingAddress=function(){g.checkout.bill_to=angular.extend({},g.checkout.ship_to),g.shippingAddressCopied=!0},g.lookupGeoCode=function(a,b,c){if(b&&!(b.length<5)){if(!e.google)return g.geocodeComplete=!0;var d=new google.maps.Geocoder;d.geocode({address:a+" "+b},function(a,b){if(b!==google.maps.GeocoderStatus.OK)return g.geocodeComplete=!0;console.log(a);for(var d=0;d<a[0].address_components.length;d++){var e=a[0].address_components[d];"locality"===e.types[0]&&(c.city=e.long_name),"administrative_area_level_1"===e.types[0]&&(c.state=e.short_name),"country"===e.types[0]&&(c.country_code=e.short_name)}g.geocodeComplete=!0,g.$apply()})}},g.addMessage=function(a,b){var c=g.showing;c||(c="none"),g.messages[c].push({type:a,message:b})},g.wipeMessages=function(){for(var a in g.messages)g.messages[a]=[]},g.resetForms=function(){g.login={username:null,password:null},g.register={first_name:null,last_name:null,email:null,password:null},g.forgot={email:null},g.contact={name:null,email:null,phone:null,message:null}},g.close=function(){g.showing=null},g.toggle=function(a,b){g.showing=g.showing===a?null:a,g.back=b?b:null,g.wipeMessages(),g.resetForms()},g.show=function(a){return a===g.showing},g.loginUser=function(b){g.wipeMessages(),a.auth.login(g.login.username,g.login.password,function(){g.addMessage("success","Successfully logged in"),d(function(){g.showing=b?b:null,g.wipeMessages()},500)})},g.registerUser=function(b){g.wipeMessages(),g.register.confirm_password=g.register.password,a.auth.register(g.register,function(){g.addMessage("success","Account registered, and logged in"),d(function(){g.showing=b?b:null,g.wipeMessages()},500)})},g.forgotPassword=function(){g.wipeMessages(),a.auth.forgotPassword(g.forgot.email,function(){g.addMessage("success","Instructions sent to your email, go check it")})},g.$on("kurrencyError",function(a,b){return console.log(b),b.pkg?void g.addMessage("error",b.pkg.statusMessage):g.addMessage("error","An error occurred connecting to Kurrency's servers, check your connection.")}),g.$on("kurrencySignOut",function(){g.showing=null}),g.$on("apiLoading",function(a,b){b===!0?g.apiLoading++:g.apiLoading>0&&g.apiLoading--}),g.resetForms()}}}]),a.KURRENCY_CONFIG&&(a.KURRENCY_CONFIG.integrated||(angular.injector(["ng","KurrencyApp"]).invoke(["$compile","$rootScope","kurrency","kurrencyConfig",function(c,d,e,f){f.cache=a.KURRENCY_CONFIG.CACHE?a.KURRENCY_CONFIG.CACHE:!0,f.accessToken=a.KURRENCY_CONFIG.ACCESS_TOKEN,f.mode=a.KURRENCY_CONFIG.MODE?a.KURRENCY_CONFIG.MODE:"test",f.local=a.KURRENCY_CONFIG.LOCAL?a.KURRENCY_CONFIG.LOCAL:!1,angular.element(b).find("body").append("<kurrency-menu></kurrency-menu>"),angular.bootstrap(angular.element(b).find("body")[0],["KurrencyApp"])}]),a.KURRENCY_CONFIG.GOOGLE_FONTS&&a.KURRENCY_CONFIG.GOOGLE_FONTS!==!0||(a.WebFontConfig={google:{families:["Questrial::latin"]}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()))),a.initialize=function(){},a[KURRENCY_CONFIG.ANGULAR].module("KurrencyApp").run(["$templateCache",function(a){a.put("kurrency-templates/kurrency-menu.html",'<div class="kurrency-menu" ng-class="{\'logged-in\': kurrency.auth.loggedIn(), \'open\': showing}">\n  <ul class="menu-wrapper">\n    <li class="sign-in"><a href ng-click="toggle(\'login\')" kurrency-popover="\'Sign In\'" ng-class="checkClass(\'login\')"><span class="kicon-login"></span></a></li>\n    <li class="account"><a href ng-click="toggle(\'account\')" kurrency-popover="\'Account\'" ng-class="checkClass(\'account\')"><span class="kicon-account"></span></a></li>\n    <li class="cart" ng-class="{\'cart-empty\': cart.length <= 0}"><a href ng-click="toggle(\'cart\')" kurrency-popover="\'Shopping Cart\'" ng-class="checkClass(\'cart\')"><span class="kicon-cart"></span><span class="count">{{quantity_total}}</span></a></li>\n    <li class="wishlist"><a href ng-click="toggle(\'wishlist\')" kurrency-popover="\'Wishlist\'" ng-class="checkClass(\'wishlist\')"><span class="kicon-wishlist"></span></a></li>\n    <li class="contact"><a href kurrency-popover="\'Contact\'" ng-click="toggle(\'contact\')" ng-class="checkClass(\'contact\')"><span class="kicon-contact"></span></a></li>\n    <li class="sign-out"><a href kurrency-popover="\'Sign Out\'" ng-click="kurrency.auth.signOut()"><span class="kicon-sign_out"></span></a></li>\n  </ul>\n  <div class="kurrency-loading" ng-class="{active: (apiLoading > 0)}"><div class="loading-indicator">Loading...</div></div>\n  <div class="kurrency-sidebar kurrency-cart" ng-class="{active: show(\'cart\')}">\n    <div class="closer"><a href ng-click="close()"><span class="kicon-close"></span></a></div>\n    <div class="kurrency-container">\n      <h1>Shopping Cart</h1>\n      <div ng-show="!cart || !cart.length">\n        <p>You have nothing in your cart</p>\n        <button type="button" class="kurrency-button" ng-click="close()">Continue Shopping</button>\n      </div>\n      <div ng-show="cart && cart.length">\n        <ul class="cart-products">\n          <li class="cart-product" ng-repeat="product in cart">\n            <div class="left">\n              <div class="name" ng-bind="product.name"></div>\n              <div class="quantity">Count: <input ng-model="product.qty" ng-change="updateQuantity(product)"></div>\n            </div>\n            <div class="right">\n              <div class="price"><span ng-bind="product.price/100 | currency"></span></div>\n              <div class="remove"><a href ng-click="removeProduct(product)">remove</a></div>\n            </div>\n          </li>\n          <li class="cart-product total">\n            <div class="left">Product Total</div>\n            <div class="right product-total">{{product_total/100 | currency}}</div>\n          </li>\n        </ul>\n        <button type="button" class="kurrency-button checkout-button" ng-click="toggle(\'checkout\', \'cart\')">Checkout</button>\n      </div>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-wishlist" ng-class="{active: show(\'wishlist\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Wishlist</h1>\n      <div ng-show="!wishlist || !wishlist.length">\n        <p>You have nothing in your wishlist</p>\n        <button type="button" class="kurrency-button" ng-click="close()">Continue Shopping</button>\n      </div>\n      <div ng-show="wishlist && wishlist.length">\n        <ul>\n          <li ng-repeat="product in cart">\n\n          </li>\n        </ul>\n        <button type="button" class="kurrency-button share-wishlist-button" ng-click="toggle(\'share-wishlist\', \'wishlist\')">Share my wishlist</button>\n      </div>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-login" ng-class="{active: show(\'login\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Sign In</h1>\n      <p>Sign into your Kurrency account.</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'login\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form ng-submit="loginUser()">\n        <input class="kurrency-input" type="text" ng-model="login.username" placeholder="Enter your username or email">\n        <input class="kurrency-input" type="password" ng-model="login.password" placeholder="Enter your password">\n        <button type="submit" class="kurrency-button login-button">Sign In</button>\n        <div class="spacer"></div>\n        <button type="button" class="kurrency-button small forgot-password" ng-click="toggle(\'forgot-password\', \'login\')">Forgot your password?</button>\n        <p>Don\'t have an account?</p>\n        <button type="button" class="kurrency-button small register-button" ng-click="toggle(\'register\', \'login\')">Register Now</button>\n      </form>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-forgot-password" ng-class="{active: show(\'forgot-password\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Forgot My Password</h1>\n      <p>Enter your email address and we will send you instructions to reset your password</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'forgot-password\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form ng-submit="forgotPassword()">\n        <input class="kurrency-input" type="text" ng-model="forgot.email" placeholder="Enter your email address">\n        <button class="kurrency-button send-password-instructions" type="submit" class="login-button">Send Instructions</button>\n      </form>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-register" ng-class="{active: show(\'register\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Register</h1>\n      <p>Enter the fields below to get started</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'register\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form ng-submit="registerUser()">\n        <input class="kurrency-input" type="text" ng-model="register.first_name" placeholder="Enter your first name">\n        <input class="kurrency-input" type="text" ng-model="register.last_name" placeholder="Enter your last name">\n        <input class="kurrency-input" type="email" ng-model="register.email" placeholder="Enter your email">\n        <input class="kurrency-input" type="password" ng-model="register.password" placeholder="Enter a password">\n        <button type="submit" class="kurrency-button register-button">Register</button>\n        <p>Already have an account?</p>\n        <button type="button" class="kurrency-button small login-button" ng-click="toggle(\'login\', \'register\')">Sign in now</button>\n      </form>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-account" ng-class="{active: show(\'account\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>My Account</h1>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-contact" ng-class="{active: show(\'contact\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Contact Us</h1>\n      <p>Fill out the form below and we\'ll respond as soon as possible</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'contact\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form ng-submit="sendContact()">\n        <input class="kurrency-input" type="text" ng-model="contact.name" placeholder="Enter your name">\n        <input class="kurrency-input" type="email" ng-model="contact.email" placeholder="Enter your email">\n        <textarea rows="3" class="kurrency-input" ng-model="contact.message" placeholder="Enter a message or concern to send to us"></textarea>\n        <button type="submit" class="kurrency-button contact-button">Contact</button>\n      </form>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-checkout" ng-class="{active: show(\'checkout\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Checkout</h1>\n      <p>Please complete the form below to finish checkout</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'checkout\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form>\n        <div ng-show="requiresShipping">\n          <div ng-show="addressList.length > 0">\n            <p>Select from a shipping address you have saved</p>\n            <select class="kurrency-input" ng-model="checkout.ship_to" ng-options="address as address.address for address in addressList"></select>\n          </div>\n          <p>Enter a shipping address</p>\n          <input class="kurrency-input" type="text" ng-model="checkout.ship_to.name" placeholder="Your Name">\n          <input class="kurrency-input" type="text" ng-model="checkout.ship_to.company_name" placeholder="(optional) Company Name">\n          <input class="kurrency-input" type="text" ng-model="checkout.ship_to.address" placeholder="Enter your address" ng-change="lookupGeoCode(checkout.ship_to.address, checkout.ship_to.postal_code, checkout.ship_to)">\n          <input class="kurrency-input" type="text" ng-model="checkout.ship_to.address2" placeholder="(optional) Address Line 2">\n          <div ng-show="geocodeComplete">\n            <input class="kurrency-input" type="text" ng-model="checkout.ship_to.city" placeholder="Enter your city">\n            <select class="kurrency-input" ng-model="checkout.ship_to.state" ng-options="state.value as state.name for state in stateList"></select>\n            <select class="kurrency-input" ng-model="checkout.ship_to.country_code" ng-options="country.value as country.name for country in countryList"></select>\n          </div>\n          <input class="kurrency-input" type="text" ng-model="checkout.ship_to.postal_code" placeholder="Enter your postal/zip code" ng-change="lookupGeoCode(checkout.ship_to.address, checkout.ship_to.postal_code, checkout.ship_to)">\n        </div>\n        <button type="submit" class="kurrency-button contact-button" ng-click="toggle(\'checkout-2\', \'checkout\')">Continue</button>\n      </form>\n    </div>\n  </div>\n  <div class="kurrency-sidebar kurrency-checkout" ng-class="{active: show(\'checkout-2\')}">\n    <div class="closer">\n      <a href class="back" ng-show="back" ng-click="toggle(back)"><span class="kicon-arrow-left"></span></a>\n      <a href ng-click="close()"><span class="kicon-close"></span></a>\n    </div>\n    <div class="kurrency-container">\n      <h1>Checkout</h1>\n      <p>Please complete the form below to finish checkout</p>\n      <div class="alerts">\n        <div ng-repeat="alert in messages[\'checkout\']" class="alert-{{alert.type}}">{{alert.message}}</div>\n      </div>\n      <form>\n        <div>\n          <button type="button" class="kurrency-button small" ng-click="copyShippingAddress()" ng-hide="shippingAddressCopied">Copy Shipping Address</button>\n          <div ng-show="addressList.length > 0">\n            <p>Select from a billing address you have saved</p>\n            <select class="kurrency-input" ng-model="checkout.bill_to" ng-options="address as address.address for address in addressList"></select>\n          </div>\n          <p>Enter a billing address</p>\n          <input class="kurrency-input" type="text" ng-model="checkout.bill_to.name" placeholder="Your Name">\n          <input class="kurrency-input" type="text" ng-model="checkout.bill_to.company_name" placeholder="(optional) Company Name">\n          <input class="kurrency-input" type="text" ng-model="checkout.bill_to.address" placeholder="Enter your address" ng-change="lookupGeoCode(checkout.bill_to.address, checkout.bill_to.postal_code, checkout.bill_to)">\n          <input class="kurrency-input" type="text" ng-model="checkout.bill_to.address2" placeholder="(optional) Address Line 2">\n          <div ng-show="geocodeComplete">\n            <input class="kurrency-input" type="text" ng-model="checkout.bill_to.city" placeholder="Enter your city">\n            <select class="kurrency-input" ng-model="checkout.bill_to.state" ng-options="state.value as state.name for state in stateList"></select>\n            <select class="kurrency-input" ng-model="checkout.bill_to.country_code" ng-options="country.value as country.name for country in countryList"></select>\n          </div>\n          <input class="kurrency-input" type="text" ng-model="checkout.bill_to.postal_code" placeholder="Enter your postal/zip code" ng-change="lookupGeoCode(checkout.bill_to.address, checkout.bill_to.postal_code, checkout.bill_to)">\n        </div>\n        <button type="submit" class="kurrency-button contact-button" ng-click="toggle(\'checkout-3\', \'checkout-2\')">Continue</button>\n      </form>\n    </div>\n  </div>\n</div>'),a.put("kurrency-templates/kurrency-popover.html",'<span ng-transclude></span>\n<div class="kurrency-popover">\n  <span ng-bind="contents"></span>\n</div>'),a.put("kurrency-templates/kurrency-product.html",'<div class="kurrency-product">\n  <div class="kurrency-product-container">\n    <kurrency-image src="product.images[0]" options="{size: \'300x200\'}" alt="product.name"></kurrency-image>\n  </div>\n  <div class="kurrency-product-container">\n    <div class="column">\n      <h2 ng-bind="product.name"></h2>\n      <h3 ng-show="product.sub_title" ng-bind="product.sub_title"></h3>\n      <span class="price" ng-bind="product.price / 100 | currency"></span>\n    </div>\n    <div class="column">\n      <button type="button" ng-click="addToCart(product, 1)">Buy Now</button>\n    </div>\n    <p ng-bind-html="product.short_description"></p>\n  </div>\n</div>')
}])}if(a.KURRENCY_CONFIG?a.KURRENCY_CONFIG.ANGULAR||(a.KURRENCY_CONFIG.ANGULAR="angular"):a.KURRENCY_CONFIG={ANGULAR:"angular"},a[a.KURRENCY_CONFIG.ANGULAR]||"undefined"!=typeof a.KURRENCY_CONFIG.REQUIRE_ANGULAR&&a.KURRENCY_CONFIG.REQUIRE_ANGULAR!==!0)c();else{var d=b.createElement("script");d.type="text/javascript",d.async=!0,d.src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js",b.getElementsByTagName("body")[0].appendChild(d),d.readyState?d.onreadystatechange=function(){("loaded"==script.readyState||"complete"==script.readyState)&&(script.onreadystatechange=null,c())}:d.onload=function(){c()}}}(window,document);